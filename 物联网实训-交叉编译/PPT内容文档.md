# 《物联网实训课》PPT内容文档

**课程名称**: 物联网实训课
**主题**: Ubuntu交叉编译环境搭建与Makefile编写
**学时**: 1学时（20分钟）
**授课对象**: 物联网工程专业本科生
**PPT比例**: 4:3

---

## 第一部分：课程导入（第1-3页，约3分钟）

### 第1页：课程封面

**【标题】** 物联网实训课
ARM交叉编译环境搭建与Makefile编写

**【内容要点】**
• 副标题：基于Ubuntu + tiny6410开发板
• 课程类型：实训课程
• 主讲教师：[教师姓名]
• 所属院系：[学院名称]

**【PPT设计建议】**
- 布局：居中对齐，上下结构
- 背景：深蓝色渐变，体现科技感
- 图片：可添加ARM芯片或开发板轮廓作为半透明背景
- 字体：标题微软雅黑粗体48号，副标题32号
- 配色：白色主文字，浅蓝色点缀

**【备注】**
封面简洁大方，突出实训主题。可根据学校VI调整配色。

---

### 第2页：学习目标与课程安排

**【标题】** 学习目标

**【内容要点】**
• 知识目标：
  - 理解交叉编译的概念和必要性
  - 掌握arm-linux-gcc工具链的安装配置方法
  - 理解Makefile的基本语法和工作原理

• 能力目标：
  - 能够独立搭建ARM交叉编译环境
  - 能够编写中等复杂度的Makefile文件
  - 能够将程序编译并部署到tiny6410开发板

• 课程安排（20分钟）：
  - 开发板介绍（4分钟）
  - Linux基础命令（3分钟）
  - 交叉编译环境搭建（5分钟）
  - Makefile编写（4分钟）

**【PPT设计建议】**
- 布局：左右分栏，左侧目标，右侧时间安排
- 图标：每个目标前添加对应图标（灯泡、齿轮、火箭）
- 配色：蓝色标题，深灰正文
- 可添加：时间进度条或饼图

---

### 第3页：为什么需要交叉编译？

**【标题】** 为什么需要交叉编译？

**【内容要点】**
• 问题引入：
  - 我们的电脑：x86/x64架构（Intel/AMD处理器）
  - 目标设备：ARM架构（tiny6410开发板）
  - 两种架构的程序互不兼容！

• 类比理解：
  - x86程序 = "普通话"
  - ARM程序 = "粤语"
  - 交叉编译器 = "翻译官"

• 交叉编译定义：
  - 在一种架构（x86）的机器上
  - 编译出另一种架构（ARM）能运行的程序
  - arm-linux-gcc就是这个"翻译官"

**【PPT设计建议】**
- 布局：上方问题，中间类比图，下方定义
- 图示：左边PC图标→中间齿轮（编译器）→右边开发板图标
- 配色：问题用橙色强调，定义用蓝色框
- 动画：三个部分依次出现

**【备注】**
用类比帮助学生理解抽象概念。可以问学生"有没有人知道ARM和x86的区别？"

---

## 第二部分：tiny6410开发板介绍（第4-6页，约4分钟）

### 第4页：tiny6410硬件架构

**【标题】** tiny6410开发板简介

**【内容要点】**
• 核心处理器：
  - 三星S3C6410芯片
  - ARM11架构，主频667MHz
  - 相当于早期智能手机的处理能力

• 存储配置：
  - DDR内存：256MB
  - NAND Flash：2GB
  - 支持SD卡扩展

• 主要接口：
  - USB Host / USB Device
  - 10/100M以太网口
  - RS232串口（调试用）
  - LCD接口、音频接口
  - GPIO扩展接口

**【PPT设计建议】**
- 布局：左侧参数列表，右侧芯片架构框图
- 表格：使用简洁表格展示参数
- 配色：参数用蓝色，数值用黑色加粗
- 图示：可添加ARM11架构简图

**【备注】**
强调S3C6410是三星公司的产品，曾广泛用于早期智能手机。

---

### 第5页：tiny6410实物图解

**【标题】** 开发板接口详解

**【内容要点】**
• 核心接口标注（配合实物图）：
  - 电源接口：5V/2A直流电源
  - 串口：DB9接口，用于调试输出
  - USB Device：连接PC下载程序
  - USB Host：连接U盘、鼠标等
  - 网口：RJ45，用于网络调试/NFS
  - SD卡槽：系统启动/存储扩展
  - JTAG：硬件调试接口

• 指示灯说明：
  - 电源指示灯
  - 运行状态灯
  - 用户可编程LED

**【PPT设计建议】**
- 布局：中间大图，四周标注线指向各接口
- 图片：tiny6410开发板高清俯视图
- 标注：使用不同颜色区分不同类型接口
- 配色：电源红色、通信蓝色、存储绿色

**【备注】**
如有实物，可现场展示。建议准备高清大图便于学生辨认。

---

### 第6页：开发板与PC的连接方式

**【标题】** 开发环境连接示意

**【内容要点】**
• 三种主要连接方式：

• 1. 串口连接（必需）：
  - 用途：查看启动信息、命令行交互
  - 硬件：USB转串口线
  - 软件：minicom / putty / SecureCRT
  - 参数：115200-8-N-1

• 2. USB连接：
  - 用途：下载程序到开发板
  - 工具：友善之臂提供的dnw工具

• 3. 网络连接（推荐）：
  - 用途：NFS挂载，方便调试
  - 方式：网线直连或通过路由器
  - 优势：无需反复烧写，即时测试

**【PPT设计建议】**
- 布局：上方连接示意图，下方三种方式并列
- 图示：PC ←→ 各种线缆 ←→ 开发板
- 配色：串口黄色、USB蓝色、网络绿色
- 图标：每种连接方式配对应图标

**【备注】**
推荐学生优先使用NFS方式进行开发调试，效率最高。

---

## 第三部分：Linux基础命令（第7-9页，约3分钟）

### 第7页：Linux基础命令（一）

**【标题】** Linux基础命令 - 目录操作

**【内容要点】**
• pwd - 显示当前目录：
  ```
  $ pwd
  /home/student
  ```

• cd - 切换目录：
  ```
  $ cd /usr/local      # 进入指定目录
  $ cd ..              # 返回上级目录
  $ cd ~               # 返回用户主目录
  ```

• ls - 列出文件：
  ```
  $ ls                 # 简单列出
  $ ls -l              # 详细信息
  $ ls -la             # 包含隐藏文件
  ```

• mkdir - 创建目录：
  ```
  $ mkdir test         # 创建单个目录
  $ mkdir -p a/b/c     # 创建多级目录
  ```

**【PPT设计建议】**
- 布局：四个命令分四个区块
- 代码：使用等宽字体，深色背景代码框
- 配色：命令绿色，参数蓝色，注释灰色
- 字体：代码部分使用Consolas或Source Code Pro

**【备注】**
这些是最基本的命令，确保每个学生都能理解。可以现场演示。

---

### 第8页：Linux基础命令（二）

**【标题】** Linux基础命令 - 文件操作

**【内容要点】**
• tar - 解压文件（重点）：
  ```
  # 解压 .tar.gz 文件
  $ tar -xvzf filename.tar.gz

  # 解压到指定目录
  $ tar -xvzf filename.tar.gz -C /usr/local/

  # 参数说明：
  # -x 解压  -v 显示过程  -z 处理gzip  -f 指定文件
  ```

• export - 设置环境变量：
  ```
  $ export PATH=$PATH:/new/path
  # 将/new/path添加到PATH环境变量
  ```

• source - 使配置生效：
  ```
  $ source ~/.bashrc
  # 重新加载配置文件，使修改立即生效
  ```

**【PPT设计建议】**
- 布局：三个命令垂直排列
- 强调：tar命令是重点，用更大的区块
- 代码框：黑底白字/绿字，模拟终端效果
- 注释：参数说明用灰色小字

**【备注】**
tar命令参数较多，建议让学生记住"xvzf"这个组合。

---

### 第9页：文件权限与路径概念

**【标题】** 路径与权限基础

**【内容要点】**
• 绝对路径 vs 相对路径：
  - 绝对路径：从根目录开始，如 /usr/local/arm
  - 相对路径：从当前目录开始，如 ./bin 或 ../lib
  - 建议：配置环境时使用绝对路径，更可靠

• 常用系统目录：
  - /usr/local/ - 用户安装的软件
  - /home/用户名/ - 用户主目录
  - ~/.bashrc - 用户的bash配置文件

• sudo - 管理员权限：
  ```
  $ sudo mkdir /usr/local/arm
  # 以管理员身份创建目录
  # 系统目录操作通常需要sudo
  ```

• chmod - 修改权限（了解）：
  ```
  $ chmod +x script.sh
  # 给脚本添加执行权限
  ```

**【PPT设计建议】**
- 布局：上下两部分，路径在上，权限在下
- 图示：目录树形图展示路径关系
- 配色：绝对路径蓝色，相对路径绿色
- 强调：用红色标注"建议使用绝对路径"

---

## 第四部分：交叉编译环境搭建（第10-13页，约5分钟）

### 第10页：交叉编译器获取与安装

**【标题】** Step 1：安装交叉编译器

**【内容要点】**
• 获取编译器：
  - 文件名：arm-linux-gcc-4.5.1-v6-vfp-20120301.tgz
  - 来源：友善之臂官网 / 课程资源包
  - 大小：约100MB

• 创建安装目录：
  ```bash
  $ sudo mkdir -p /usr/local/arm
  ```

• 解压安装：
  ```bash
  $ sudo tar -xvzf arm-linux-gcc-4.5.1-v6-vfp-20120301.tgz \
        -C /usr/local/arm
  ```

• 查看安装结果：
  ```bash
  $ ls /usr/local/arm/
  4.5.1

  $ ls /usr/local/arm/4.5.1/bin/
  arm-linux-gcc  arm-linux-g++  arm-linux-ld  ...
  ```

**【PPT设计建议】**
- 布局：步骤流程图 + 命令代码框
- 编号：每个步骤用大号数字标注
- 代码框：黑底终端风格
- 图示：文件图标→解压箭头→目录图标

**【备注】**
强调sudo的必要性，/usr/local需要管理员权限。

---

### 第11页：环境变量配置

**【标题】** Step 2：配置环境变量

**【内容要点】**
• 为什么要配置PATH？
  - 让系统能找到arm-linux-gcc命令
  - 否则每次都要输入完整路径

• 编辑配置文件：
  ```bash
  # 方法1：使用echo追加（推荐新手）
  $ echo 'export PATH=$PATH:/usr/local/arm/4.5.1/bin' \
        >> ~/.bashrc

  # 方法2：使用文本编辑器
  $ gedit ~/.bashrc
  # 在文件末尾添加：
  # export PATH=$PATH:/usr/local/arm/4.5.1/bin
  ```

• 使配置生效：
  ```bash
  $ source ~/.bashrc
  ```

• 验证配置：
  ```bash
  $ echo $PATH
  # 应该能看到 /usr/local/arm/4.5.1/bin
  ```

**【PPT设计建议】**
- 布局：四个步骤垂直流程
- 强调：export语句用高亮框标注
- 警告：用红色提示"注意冒号不要漏掉"
- 配色：PATH变量用蓝色高亮

**【备注】**
这是最容易出错的步骤，特别强调冒号的作用。

---

### 第12页：Hello World交叉编译实战

**【标题】** Step 3：第一个ARM程序

**【内容要点】**
• 编写测试程序 hello.c：
  ```c
  #include <stdio.h>

  int main(void)
  {
      printf("Hello, tiny6410!\n");
      printf("ARM交叉编译成功！\n");
      return 0;
  }
  ```

• 交叉编译：
  ```bash
  $ arm-linux-gcc -o hello hello.c
  ```

• 验证编译结果：
  ```bash
  $ file hello
  hello: ELF 32-bit LSB executable, ARM, version 1...

  $ file /bin/ls
  /bin/ls: ELF 64-bit LSB executable, x86-64...
  ```

• 对比说明：
  - hello显示"ARM" → 可在开发板运行
  - /bin/ls显示"x86-64" → 只能在PC运行

**【PPT设计建议】**
- 布局：左侧代码，右侧命令和输出
- 对比：用表格对比ARM和x86的file输出
- 配色：ARM用绿色标注，x86用蓝色
- 图标：成功标志（绿色对勾）

**【备注】**
这是验证环境是否搭建成功的关键步骤。

---

### 第13页：常见问题与排错

**【标题】** 常见问题排查

**【内容要点】**
• 问题1：command not found
  ```
  $ arm-linux-gcc
  bash: arm-linux-gcc: command not found
  ```
  - 原因：PATH未正确配置
  - 解决：检查~/.bashrc，执行source

• 问题2：权限不足
  ```
  $ mkdir /usr/local/arm
  mkdir: cannot create directory: Permission denied
  ```
  - 原因：缺少sudo
  - 解决：命令前加sudo

• 问题3：路径错误（重点警示）
  ```
  # 错误写法（漏了冒号）
  export PATH=$PATH/usr/local/arm/4.5.1/bin

  # 正确写法
  export PATH=$PATH:/usr/local/arm/4.5.1/bin
  ```

**【课程思政】代码规范的重要性**
• 一个冒号的差异，决定成败
• 工程领域，细节决定一切
• 案例：阿丽亚娜5号火箭因软件数值溢出爆炸

**【PPT设计建议】**
- 布局：上方三个问题并列，下方思政内容突出
- 错误示例：红色背景框
- 正确示例：绿色背景框
- 思政部分：单独区块，蓝色边框

**【备注】**
这里是课程思政的第一个融入点，强调规范的重要性。

---

## 第五部分：Makefile编写（第14-17页，约4分钟）

### 第14页：Makefile基础结构

**【标题】** Makefile基础

**【内容要点】**
• 为什么需要Makefile？
  - 自动化编译流程
  - 管理多文件项目
  - 只重新编译修改过的文件（增量编译）

• 基本结构：三要素
  ```makefile
  目标: 依赖
  	命令
  ```

• 简单示例：
  ```makefile
  hello: hello.c
  	arm-linux-gcc -o hello hello.c

  clean:
  	rm -f hello
  ```

• 重要规则：
  - 命令前必须是Tab键，不能是空格！
  - make默认执行第一个目标

**【PPT设计建议】**
- 布局：左侧概念说明，右侧代码示例
- 强调：Tab键规则用红色警告框
- 图示：目标→依赖→命令的流程图
- 配色：目标绿色，依赖蓝色，命令黑色

**【备注】**
Tab vs 空格是新手最常见的错误，务必强调。

---

### 第15页：变量与自动变量

**【标题】** Makefile变量

**【内容要点】**
• 自定义变量：
  ```makefile
  CC = arm-linux-gcc
  CFLAGS = -Wall -O2
  TARGET = myapp

  $(TARGET): main.c
  	$(CC) $(CFLAGS) -o $(TARGET) main.c
  ```

• 自动变量（重点）：

| 变量 | 含义 | 示例 |
|------|------|------|
| $@ | 目标文件名 | myapp |
| $^ | 所有依赖文件 | main.o utils.o |
| $< | 第一个依赖文件 | main.c |

• 使用自动变量改写：
  ```makefile
  CC = arm-linux-gcc

  myapp: main.o utils.o
  	$(CC) -o $@ $^

  main.o: main.c
  	$(CC) -c -o $@ $<
  ```

**【PPT设计建议】**
- 布局：上方变量定义，中间表格，下方示例
- 表格：三列表格清晰展示自动变量
- 代码对比：普通写法 vs 自动变量写法
- 配色：自动变量用红色高亮

**【备注】**
$@、$^、$<是最常用的三个，让学生重点记忆。

---

### 第16页：多文件项目Makefile

**【标题】** 实战：多文件项目

**【内容要点】**
• 项目结构：
  ```
  project/
  ├── main.c      # 主程序
  ├── utils.c     # 工具函数实现
  ├── utils.h     # 工具函数声明
  └── Makefile
  ```

• 完整Makefile：
  ```makefile
  # 物联网实训 - 交叉编译Makefile
  # 目标平台：tiny6410 (ARM11)

  CC = arm-linux-gcc
  CFLAGS = -Wall -O2

  TARGET = myapp
  OBJS = main.o utils.o

  # 链接生成可执行文件
  $(TARGET): $(OBJS)
  	$(CC) -o $@ $^

  # 模式规则：.c编译为.o
  %.o: %.c
  	$(CC) $(CFLAGS) -c -o $@ $<

  # 依赖关系
  main.o: utils.h
  utils.o: utils.h

  # 清理
  .PHONY: clean
  clean:
  	rm -f $(TARGET) $(OBJS)
  ```

**【PPT设计建议】**
- 布局：左侧项目结构，右侧Makefile代码
- 代码：添加行号，便于讲解
- 注释：代码中的注释用灰色
- 流程图：可添加编译依赖关系图

**【备注】**
这是一个完整可用的模板，学生可以直接参考使用。

---

### 第17页：Makefile最佳实践

**【标题】** Makefile最佳实践

**【内容要点】**
• 模式规则 %.o: %.c
  - 自动匹配所有.c文件
  - 避免为每个文件写规则

• 伪目标 .PHONY
  ```makefile
  .PHONY: clean all
  ```
  - 声明clean不是真实文件
  - 避免与同名文件冲突

• 常用变量约定：
  - CC：C编译器
  - CXX：C++编译器
  - CFLAGS：C编译选项
  - LDFLAGS：链接选项

**【课程思政】工匠精神**
• 代码的三个境界：
  - 能用：硬编码所有规则
  - 好用：使用变量、自动变量
  - 优雅：模式规则、可移植

• 工匠精神的体现：
  - 精益求精，追求更优写法
  - 代码即文档，清晰可读
  - 可维护、可复用、可传承

• 自主可控：
  - 交叉编译支撑国产嵌入式开发
  - 华为、龙芯等国产芯片的崛起

**【PPT设计建议】**
- 布局：上半部分技术内容，下半部分思政内容
- 思政区块：淡蓝色背景，独立呈现
- 配色：工匠精神标题用金色
- 图示：可添加进阶阶梯图

**【备注】**
这是课程思政的第二个融入点，结合技术内容自然引出。

---

## 第六部分：总结（第18页，约1分钟）

### 第18页：课程总结与实验任务

**【标题】** 课程总结

**【内容要点】**
• 知识回顾：
  - tiny6410开发板基本架构
  - Linux常用命令（cd/ls/tar/export/source）
  - arm-linux-gcc交叉编译环境搭建
  - Makefile变量与自动变量（$@、$^、$<）

• 实验任务：
  1. 在Ubuntu虚拟机中搭建arm-linux-gcc环境
  2. 编写hello.c并交叉编译
  3. 编写包含3个源文件的项目，并撰写Makefile
  4. （选做）将程序通过NFS部署到开发板运行

• 参考资源：
  - GNU Make手册
  - 友善之臂Wiki文档
  - 课程实验指导书

**【PPT设计建议】**
- 布局：三栏式，回顾/任务/资源
- 图标：每个任务前添加复选框图标
- 配色：任务部分用绿色突出
- 边框：整体用深蓝色边框收尾

**【备注】**
可根据实际情况调整实验任务的难度和数量。

---

## 附录：PPT设计规范总结

### 配色方案
- 主色：深蓝色 (#003366) - 标题、边框
- 辅助色：浅蓝色 (#66B2FF) - 图标、强调
- 成功色：绿色 (#28A745) - 正确示例、完成标记
- 警告色：红色 (#DC3545) - 错误示例、重要提醒
- 中性色：灰色 (#6C757D) - 注释、次要信息

### 字体规范
- 标题：微软雅黑 粗体 32-40号
- 正文：微软雅黑 常规 18-24号
- 代码：Consolas / Source Code Pro 16-18号

### 代码框样式
- 背景：深灰色 (#2D2D2D) 或黑色
- 文字：白色/浅绿色
- 边框：1px 圆角
- 内边距：10-15px

### 动画建议
- 使用简单的淡入效果
- 避免过度动画干扰教学
- 代码演示部分可逐行出现
